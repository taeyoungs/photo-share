[{"D:\\projects\\photo-share\\src\\App.js":"1","D:\\projects\\photo-share\\src\\index.js":"2","D:\\projects\\photo-share\\src\\Users.js":"3","D:\\projects\\photo-share\\src\\AuthorizedUser.js":"4"},{"size":622,"mtime":1607933224602,"results":"5","hashOfConfig":"6"},{"size":384,"mtime":1607929345148,"results":"7","hashOfConfig":"6"},{"size":1665,"mtime":1607931820287,"results":"8","hashOfConfig":"6"},{"size":1466,"mtime":1607936734045,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1jnyb13",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},"D:\\projects\\photo-share\\src\\App.js",[],"D:\\projects\\photo-share\\src\\index.js",[],"D:\\projects\\photo-share\\src\\Users.js",[],"D:\\projects\\photo-share\\src\\AuthorizedUser.js",["19"],"import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { gql } from 'apollo-boost';\r\nimport { useMutation } from 'react-apollo';\r\nimport { ROOT_QUERY } from './App';\r\n\r\nconst GITHUB_AUTH_MUTATION = gql`\r\n    mutation githubAuth($code: String!) {\r\n        githubAuth(code: $code) {\r\n            token\r\n        }\r\n    }\r\n`;\r\n\r\nconst AuthorizedUser = (props) => {\r\n    const [signingIn, setSigningIn] = useState(false);\r\n    const { history } = props;\r\n    const [githubAuthMutation] = useMutation(GITHUB_AUTH_MUTATION, {\r\n        update(cache, { data }) {\r\n            localStorage.setItem('token', data.githubAuth.token);\r\n            history.replace('/');\r\n            setSigningIn(false);\r\n        },\r\n        refetchQueries: [{ query: ROOT_QUERY }],\r\n    });\r\n    useEffect(() => {\r\n        if (window.location.search.match(/code=/)) {\r\n            setSigningIn(true);\r\n            const code = window.location.search.replace('?code=', '');\r\n            githubAuthMutation({ variables: { code } });\r\n        }\r\n    }, []);\r\n\r\n    const requestCode = () => {\r\n        const clientID = '5a0e37336fd58ec70ac8';\r\n        window.location = `https://github.com/login/oauth/authorize?client_id=${clientID}&scope=user`;\r\n    };\r\n\r\n    return (\r\n        <button onClick={requestCode} disabled={signingIn}>\r\n            깃허브로 로그인\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default withRouter(AuthorizedUser);\r\n",{"ruleId":"20","severity":1,"message":"21","line":32,"column":8,"nodeType":"22","endLine":32,"endColumn":10,"suggestions":"23"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'githubAuthMutation'. Either include it or remove the dependency array.","ArrayExpression",["24"],{"desc":"25","fix":"26"},"Update the dependencies array to be: [githubAuthMutation]",{"range":"27","text":"28"},[1073,1075],"[githubAuthMutation]"]